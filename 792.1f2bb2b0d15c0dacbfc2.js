"use strict";(self.webpackChunknewfrontend=self.webpackChunknewfrontend||[]).push([[792],{5792:(E,_,s)=>{s.r(_),s.d(_,{ListingModule:()=>Q});var g=s(8583),m=s(8741),u=s(408),c=s(1494),l=s(2789),t=s(3018),L=s(1841);let p=(()=>{class i{constructor(e){this.http=e,this.ROOT_URL="http://localhost:4000/api/listings",this.httpOptions={headers:(new L.WM).set("Content-Type","application/json").set("auth-token",localStorage.getItem("token")||"{}")}}getListings(){return this.http.get(this.ROOT_URL)}getListing(e){return this.http.get(`${this.ROOT_URL}/${e}`)}addListing(e){return this.http.post(this.ROOT_URL,e,this.httpOptions)}editListing(e,n){return this.http.put(`${this.ROOT_URL}/${n}`,e,this.httpOptions)}deleteListing(e){return this.http.delete(`${this.ROOT_URL}/${e}`,this.httpOptions)}add(e,n){return e+n}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(L.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function T(i,o){1&i&&(t.TgZ(0,"th",11),t._uU(1," name "),t.qZA())}function v(i,o){if(1&i&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function b(i,o){1&i&&(t.TgZ(0,"th",11),t._uU(1," dob "),t.qZA())}function w(i,o){if(1&i&&(t.TgZ(0,"td",12),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.dob)," ")}}function y(i,o){1&i&&(t.TgZ(0,"th",11),t._uU(1," role"),t.qZA())}function N(i,o){if(1&i&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e.role," ")}}function U(i,o){1&i&&(t.TgZ(0,"th",11),t._uU(1," view"),t.qZA())}function x(i,o){if(1&i&&(t.TgZ(0,"td",12),t.TgZ(1,"a",13),t._uU(2," click "),t.qZA(),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Q6J("routerLink",e._id)}}function S(i,o){1&i&&t._UZ(0,"tr",14)}function I(i,o){1&i&&t._UZ(0,"tr",15)}const M=function(){return[5,19,15]};let D=(()=>{class i{constructor(e){this.listingService=e,this.displayedColumns=["name","dob","role","_id"],this.allUser=[],this.listingService.getListings().subscribe(n=>{this.dataSource=new l.by(n),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}ngOnInit(){this.listings=this.listingService.getListings(),this.listingService.getListings().subscribe(e=>{this.dataSource=new l.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-all-listing"]],viewQuery:function(e,n){if(1&e&&(t.Gf(u.NW,5),t.Gf(c.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first),t.iGM(a=t.CRH())&&(n.sort=a.first)}},decls:17,vars:5,consts:[[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dob"],["matColumnDef","role"],["matColumnDef","_id"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"table",1),t.ynx(2,2),t.YNc(3,T,2,0,"th",3),t.YNc(4,v,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,b,2,0,"th",3),t.YNc(7,w,3,3,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,y,2,0,"th",3),t.YNc(10,N,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,U,2,0,"th",3),t.YNc(13,x,3,1,"td",4),t.BQk(),t.YNc(14,S,1,0,"tr",8),t.YNc(15,I,1,0,"tr",9),t.qZA(),t._UZ(16,"mat-paginator",10),t.qZA()),2&e&&(t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,M)))},directives:[l.BZ,c.YE,l.w1,l.fO,l.Dz,l.as,l.nj,u.NW,l.ge,c.nU,l.ev,m.yS,l.XQ,l.Gk],pipes:[g.uU],styles:["table[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),i})();var r=s(665),C=s(1362),h=s(3738),A=s(1095),f=s(8295),Z=s(9983);function F(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().showEdit()}),t._uU(1,"Edit"),t.qZA()}}function q(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeListing()}),t._uU(1,"Delete"),t.qZA()}}function J(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-card"),t.TgZ(1,"div"),t.TgZ(2,"h1"),t._uU(3,"Edit Employee"),t.qZA(),t.TgZ(4,"form",6),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().editListing()}),t.TgZ(5,"mat-form-field"),t.TgZ(6,"input",7),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().listing.name=a}),t.qZA(),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"mat-form-field"),t.TgZ(9,"input",8),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().listing.dob=a}),t.qZA(),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"mat-form-field"),t.TgZ(12,"input",9),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().listing.role=a}),t.qZA(),t.qZA(),t._UZ(13,"br"),t._UZ(14,"input",10),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.editListingForm),t.xp6(2),t.Q6J("ngModel",e.listing.name),t.xp6(3),t.Q6J("ngModel",e.listing.dob),t.xp6(3),t.Q6J("ngModel",e.listing.role),t.xp6(2),t.Q6J("disabled",!e.editListingForm.valid)}}const O=[{path:"",component:D},{path:"add-listing",component:(()=>{class i{constructor(e,n){this.listingService=e,this.router=n,this.listingForm=new r.cw({name:new r.NI("",[r.kI.required]),dob:new r.NI("",[r.kI.required]),role:new r.NI("",[r.kI.required]),email:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required])})}ngOnInit(){}newListing(){this.listingForm.valid&&this.listingService.addListing(this.listingForm.value).subscribe(e=>{this.listingForm.reset(),this.router.navigate(["/home"])})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p),t.Y36(m.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add-listing"]],decls:23,vars:2,consts:[[1,"form-style"],[3,"formGroup","ngSubmit"],["matInput","","type","text","placeholder","Enter Name","formControlName","name"],["matInput","","type","date","placeholder","Enter DOB","formControlName","dob"],["matInput","","type","text","placeholder","Enter Role","formControlName","role"],["matInput","","type","email","placeholder","Enter Email","formControlName","email"],["matInput","","type","password","placeholder","Enter Password","formControlName","password"],["type","submit","value","Add",1,"btn","btn-primary",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"add-listing works!"),t.qZA(),t.TgZ(2,"mat-card"),t.TgZ(3,"div",0),t.TgZ(4,"h1"),t._uU(5,"Add New Employee"),t.qZA(),t.TgZ(6,"form",1),t.NdJ("ngSubmit",function(){return n.newListing()}),t.TgZ(7,"mat-form-field"),t._UZ(8,"input",2),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"mat-form-field"),t._UZ(11,"input",3),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"mat-form-field"),t._UZ(14,"input",4),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"mat-form-field"),t._UZ(17,"input",5),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"mat-form-field"),t._UZ(20,"input",6),t.qZA(),t._UZ(21,"br"),t._UZ(22,"input",7),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(6),t.Q6J("formGroup",n.listingForm),t.xp6(16),t.Q6J("disabled",!n.listingForm.valid))},directives:[h.a8,r._Y,r.JL,r.sg,f.KE,Z.Nt,r.Fj,r.JJ,r.u],styles:[""],changeDetection:0}),i})(),canActivate:[(()=>{class i{constructor(e,n){this.userService=e,this.router=n}canActivate(){return!!this.userService.loggedIn()||(this.router.navigate(["user/login"]),!1)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(C.K),t.LFG(m.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()]},{path:":id",component:(()=>{class i{constructor(e,n,a,d){this.listingService=e,this.route=n,this.router=a,this.userService=d,this.showForm=!1,this.editListingForm=new r.cw({name:new r.NI("",[r.kI.required]),dob:new r.NI("",[r.kI.required]),role:new r.NI("",[r.kI.required])})}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.ListingSub=this.listingService.getListing(this.id).subscribe(e=>{this.listing=e})}showEdit(){this.showForm=!this.showForm}editListing(){this.id=this.route.snapshot.paramMap.get("id"),this.editListingForm.valid&&this.listingService.editListing(this.editListingForm.value,this.id).subscribe(e=>{this.editListingForm.reset(),this.router.navigate(["/home"])})}removeListing(){this.id=this.route.snapshot.paramMap.get("id"),this.listingService.deleteListing(this.id).subscribe(e=>{console.log(e),this.router.navigate(["/home"])})}ngOnDestroy(){this.ListingSub.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p),t.Y36(m.gz),t.Y36(m.F0),t.Y36(C.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-listing-detail"]],decls:13,vars:8,consts:[[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[3,"formGroup","ngSubmit"],["matInput","","type","text","placeholder","Enter Name","formControlName","name",3,"ngModel","ngModelChange"],["matInput","","type","date","placeholder","Enter DOB","formControlName","dob",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Enter Role","formControlName","role",3,"ngModel","ngModelChange"],["type","submit","value","Add",1,"btn","btn-primary",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card"),t.TgZ(1,"div"),t.TgZ(2,"h4"),t._uU(3),t.qZA(),t.TgZ(4,"h4"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"h4"),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"div",0),t.YNc(10,F,2,0,"button",1),t.YNc(11,q,2,0,"button",2),t.qZA(),t.qZA(),t.YNc(12,J,15,5,"mat-card",3)),2&e&&(t.xp6(3),t.hij("Name : ",n.listing.name,""),t.xp6(2),t.hij("DOB : ",t.lcZ(6,6,n.listing.dob),""),t.xp6(3),t.hij("Role : ",n.listing.role,""),t.xp6(2),t.Q6J("ngIf",n.userService.loggedIn()),t.xp6(1),t.Q6J("ngIf",n.userService.loggedIn()),t.xp6(1),t.Q6J("ngIf",n.showForm))},directives:[h.a8,g.O5,A.lW,r._Y,r.JL,r.sg,f.KE,Z.Nt,r.Fj,r.JJ,r.u],pipes:[g.uU],styles:[""],changeDetection:0}),i})()}];let Y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.Bz.forChild(O)],m.Bz]}),i})();var R=s(2522);let Q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[g.ez,Y,r.UX,r.u5,l.p0,c.JX,u.TU,R.g0,h.QW,Z.c,f.lN,A.ot]]}),i})()}}]);